/* === 侧边栏：不缩小头像，避免挡住主菜单文字 === */

/* 1) 给头像区域更多“底部空间”，把菜单整体往下推 */
.sidebar .site-avatar,
.site-avatar {
  margin-bottom: 1.5rem !important;
}

/* 2) 再给菜单本体一点上边距，双保险 */
.sidebar .menu {
  margin-top: 0.75rem !important;
}

/* 3) 你要的“目录/栏目文字变大” */
.sidebar .menu a {
  font-size: 1.5rem !important;
  line-height: 1.7 !important;
}

/* 4) 如果确实出现“叠层遮挡”（视觉上头像压住文字）
      让菜单文字层级更高 */
.sidebar .menu {
  position: relative;
  z-index: 2;
}
.sidebar .site-avatar,
.site-avatar {
  position: relative;
  z-index: 1;
}

/* 5) 小屏再额外加点间距，避免顶部更紧凑时复发 */
@media (max-width: 768px) {
  .sidebar .site-avatar,
  .site-avatar {
    margin-bottom: 1.75rem !important;
  }
  .sidebar .menu a {
    font-size: 1.35rem !important;
  }
}
/* === 右侧文章目录（TOC）排版增强：更大、更清晰、更统一 === */

/* 兼容 Stack 可能的 TOC 容器命名 */
.widget--toc,
.widget.toc,
.widget:has(#TableOfContents) {
  padding-top: .25rem;
}

/* TOC 标题 */
.widget--toc .widget-title,
.widget.toc .widget-title,
.widget:has(#TableOfContents) .widget-title {
  font-size: 1.15rem;
  font-weight: 600;
  letter-spacing: .02em;
  margin-bottom: .6rem;
}

/* Hugo 默认 TOC 容器 */
#TableOfContents {
  font-size: 1.05rem;
  line-height: 1.65;
}

/* 列表缩进与层级空气感 */
#TableOfContents ul {
  margin: .25rem 0 .6rem 0;
  padding-left: 1.05rem;
}
#TableOfContents li {
  margin: .18rem 0;
}

/* 链接可读性 */
#TableOfContents a {
  text-decoration: none;
}
#TableOfContents a:hover {
  text-decoration: underline;
}

/* 二级/三级层级稍微收一收，视觉更有梯度 */
#TableOfContents ul ul {
  font-size: .98em;
  opacity: .9;
}

/* 小屏适配 */
@media (max-width: 768px) {
  #TableOfContents {
    font-size: 1rem;
  }
}
/* === 左右目录的“同一套视觉语言” === */

/* 左侧主菜单的标题/链接更像 TOC 的节奏 */
.sidebar .menu a {
  letter-spacing: .01em;
}

/* 如果你有在左侧放 widgets（分类/标签等），统一一下标题风格 */
.sidebar .widget-title {
  font-size: 1.05rem;
  font-weight: 600;
  margin-bottom: .5rem;
}
/* === 正文可读性：更适合中文长文 === */
.article-content,
.content {
  line-height: 1.85;
  letter-spacing: .01em;
}

/* 小标题间距更呼吸 */
.article-content h2,
.article-content h3 {
  margin-top: 1.6em;
}
/* === 首页/侧边栏 widgets 质感升级：更像“写作入口 + 专题导航” === */

/* 1) 侧边栏小组件之间的呼吸感与轻分区 */
.sidebar .widget {
  margin-top: 1.25rem;
  padding-top: .9rem;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
}
.sidebar .widget:first-child {
  margin-top: 0;
  padding-top: 0;
  border-top: 0;
}

/* 2) 小组件标题更一致、略放大 */
.sidebar .widget-title {
  font-size: 1.1rem;
  font-weight: 650;
  letter-spacing: .02em;
}

/* 3) Search 变“写作入口”的主按钮感 */
.widget--search input[type="search"],
.widget--search input[type="text"],
.widget--search .search-form input {
  font-size: 1.05rem;
  padding: .7rem .9rem;
  border-radius: 1rem;
}

/* 4) Categories 列表更清爽 */
.widget--categories a {
  font-size: 1.05rem;
  line-height: 1.6;
}

/* 5) Tag Cloud 更像可点的主题关键词 */
.widget--tag-cloud a {
  font-size: 1.02rem;
  padding: .15rem .4rem;
  border-radius: .6rem;
}

/* 6) Archives 更稳重一点 */
.widget--archives a {
  font-size: 1.02rem;
}

/* 7) 小屏端减少分隔线密度 */
@media (max-width: 768px) {
  .sidebar .widget {
    margin-top: 1rem;
    padding-top: .75rem;
  }
}

/* === 首页主内容区：杂志式分区布局 === */

.home-magazine {
  display: grid;
  gap: 2rem;
}

/* 每个分区块 */
.home-block {
  padding-top: .5rem;
}

/* 分区标题行：左标题右“更多” */
.home-block-header {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 1rem;
  margin-bottom: .9rem;
}

.home-block-title {
  font-size: 1.6rem;
  font-weight: 650;
  letter-spacing: .02em;
  margin: 0;
}

.home-block-more {
  font-size: 1rem;
  opacity: .7;
  text-decoration: none;
}
.home-block-more:hover {
  opacity: 1;
  text-decoration: underline;
}

/* 分区内文章卡片：大屏两列，小屏一列 */
.home-block-list {
  display: grid;
  gap: 1rem;
}

@media (min-width: 1024px) {
  .home-block-list {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Now 分区做得更像“导读卡” */
.home-block-now .home-block-now-body {
  font-size: 1.05rem;
  line-height: 1.75;
  opacity: .9;
}


/* === Sidebar 统一比例系统（覆盖最终版） === */
:root {
  /* 视觉层级：标题(最大) > 菜单(次大) > 副标题 > 正文小组件 */
  --sidebar-avatar-size: 180px;
  --sidebar-title-size: 3rem;       /* 站点标题：大字招牌 */
  --sidebar-subtitle-size: 1.25rem; /* 副标题：辅助说明 */
  --sidebar-menu-size: 2.2rem;      /* 主菜单：明显大，但不抢标题 */
}

/* 头像 */
.sidebar .site-avatar img,
.site-avatar img {
  width: var(--sidebar-avatar-size) !important;
  height: var(--sidebar-avatar-size) !important;
  object-fit: cover;
}
.sidebar .site-avatar,
.site-avatar {
  margin-bottom: 2rem !important;
}

/* 标题 */
.sidebar .site-name,
.sidebar .site-title,
.site-name,
.site-title {
  font-size: var(--sidebar-title-size) !important;
  font-weight: 800 !important;
  line-height: 1.15 !important;
  margin: .6rem 0 .25rem 0 !important;
}

/* 副标题 */
.sidebar .site-description,
.sidebar .site-subtitle,
.site-description,
.site-subtitle {
  font-size: var(--sidebar-subtitle-size) !important;
  line-height: 1.4 !important;
  opacity: .85;
}

/* 主菜单 */
.sidebar .menu a,
.sidebar .main-menu a,
.sidebar .menu .menu-item a {
  font-size: var(--sidebar-menu-size) !important;
  line-height: 1.3 !important;
  font-weight: 600;
}
.sidebar .menu li {
  margin: .5rem 0 !important;
}
.sidebar .menu {
  margin-top: 1.1rem !important;
}

/* 图标跟随放大（如有） */
.sidebar .menu svg,
.sidebar .main-menu svg {
  width: 1.15em;
  height: 1.15em;
}

/* 小屏保持“同样的层级感” */
@media (max-width: 768px) {
  :root {
    --sidebar-avatar-size: 150px;
    --sidebar-title-size: 2.4rem;
    --sidebar-subtitle-size: 1.1rem;
    --sidebar-menu-size: 1.85rem;
  }

  .sidebar .menu li {
    margin: .4rem 0 !important;
  }
}

/* === 顶部头像背景水印（不全页） === */

/* 确保层级安全 */
body {
  position: relative;
}

/* 顶部淡背景带 */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 240px;                 /* 只占上方一段 */
  background-image: url("/img/avatar.png");
  background-repeat: no-repeat;
  background-position: center 15%; /* “上方一点” */
  background-size: 220px auto;     /* 不铺满 */
  opacity: 0.08;                   /* 很淡，不抢内容 */
  pointer-events: none;
  z-index: 0;
}

/* 让站点主体在水印之上 */
.main-container,
.sidebar,
.right-sidebar,
.container {
  position: relative;
  z-index: 1;
}

/* 小屏略收敛 */
@media (max-width: 768px) {
  body::before {
    height: 200px;
    background-size: 180px auto;
    opacity: 0.07;
  }
}
